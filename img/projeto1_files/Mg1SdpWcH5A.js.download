;/*FB_PKG_DELIM*/

__d("IGDDataclassTypes.flow",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({Share:"SHARE",Reply:"REPLY",React:"REACT",Mention:"MENTION"}),l=n("$InternalEnum")({Note:"NOTE",Story:"STORY",Profile:"PROFILE",Clip:"CLIP",Feed:"FEED",Live:"LIVE",Comment:"COMMENT",LocationShare:"LOCATION_SHARE",ReelsAudio:"REELS_AUDIO",MediaNote:"MEDIA_NOTE",StoryHighlight:"STORY_HIGHLIGHT",SocialContext:"SOCIAL_CONTEXT"}),s=n("$InternalEnum")({Mention:"MENTION",Reply:"REPLY"});i.XmsgIgXmaActionType=e,i.XmsgIgReceiverFetchContentType=l,i.XmsgIgReceiverFetchXmaMediaNoteFetchParamsMessageType=s}),66);
__d("IGDSWebPauseFilledIcon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("path",{d:"M15 1c-3.3 0-6 1.3-6 3v40c0 1.7 2.7 3 6 3s6-1.3 6-3V4c0-1.7-2.7-3-6-3zm18 0c-3.3 0-6 1.3-6 3v40c0 1.7 2.7 3 6 3s6-1.3 6-3V4c0-1.7-2.7-3-6-3z"}),t[0]=n):n=t[0];var a;return t[1]!==e?(a=s.jsx(r("IGDSSVGIconBase.react"),babelHelpers.extends({},e,{viewBox:"0 0 48 48",children:n})),t[1]=e,t[2]=a):a=t[2],a}var c=s.memo(u);l.default=c}),98);
__d("IGDXMAAttachmentUtil",["bx"],(function(t,n,r,o,a,i,l){"use strict";var e=r("bx").getURL(r("bx")("13341")),s=String.fromCodePoint(128293),u=String.fromCodePoint(128546),c=String.fromCodePoint(128079),d=String.fromCodePoint(128558),m=String.fromCodePoint(128514),p=String.fromCodePoint(128525),_=String.fromCodePoint(127881);function f(e){return e!=null?e===s||e===u||e===c||e===d||e===m||e===_?!0:e===p:!1}function g(e,t){return e==="xma_ig_comment_action_url"&&t==="xma_ig_comment_media_action_url"}l.DEFAULT_PROFILE_URL=e,l.isEmojiReaction=f,l.isXmaPostComment=g}),98);
__d("LSGetIfViewerIsWorkplaceUser",["gkx"],(function(t,n,r,o,a,i,l){function e(){var e=arguments,t=e[e.length-1],n=[],o=[];return o[0]=r("gkx")("26374"),t.resolve(o)}e.__sproc_name__="LSCoreGetIfViewerIsWorkplaceUserStoredProcedure",e.__tables__=[];var s=e;l.default=s}),98);
__d("LSGetThreadParticipantDisplayName",["LSGetIfViewerIsWorkplaceUser","LSLocalize"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(a){return t.sequence([function(e){return t.storedProcedure(n("LSGetIfViewerIsWorkplaceUser")).then(function(e){var t;return t=e,r[0]=t[0],t})},function(o){return r[0]?t.sequence([function(o){return t.filter(t.db.table(7).fetch([[[e[1]]]]),function(n){return t.i64.eq(n.id,e[1])&&t.i64.eq(t.i64.cast([0,1]),t.i64.cast([0,1]))}).next().then(function(e,o){var a=e.done,i=e.value;return a?t.sequence([function(e){return n("LSLocalize").localizeV2Async(t.i64.cast([0,2352696798]),void 0).then(function(e){return r[4]=e})},function(e){return r[2]=r[4]}]):(o=i.item,r[2]=o.name)})},function(e){return r[1]=r[2]}]):t.sequence([function(n){return t.filter(t.db.table(14).fetch([[[e[0],e[1]]]]),function(n){return t.i64.eq(n.threadKey,e[0])&&t.i64.eq(t.i64.cast([0,0]),t.i64.cast([0,0]))&&t.i64.eq(n.contactId,e[1])}).next().then(function(e,t){var n=e.done,o=e.value;return n?r[2]=void 0:(t=o.item,r[2]=t.nickname)})},function(o){return t.filter(t.db.table(7).fetch([[[e[1]]]]),function(n){return t.i64.eq(n.id,e[1])&&t.i64.eq(t.i64.cast([0,1]),t.i64.cast([0,1]))}).next().then(function(e,o){var a=e.done,i=e.value;return a?t.sequence([function(e){return r[6]=t.i64.cast([-1,4294967295]),n("LSLocalize").localizeV2Async(t.i64.cast([0,14617150]),void 0).then(function(e){return r[7]=e})},function(e){return r[4]=r[7]}]):(o=i.item,r[4]=o.firstName==null?o.name:o.firstName)})},function(e){return r[1]=r[2]==null?r[4]:r[2]}])},function(e){return o[0]=r[1]}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxGetThreadParticipantDisplayNameStoredProcedure",e.__tables__=["contacts","participants"],a.exports=e}),null);
__d("LSMessageReplySourceType",[],(function(t,n,r,o,a,i){var e=Object.freeze({NONE:0,MESSAGE:1,STORY:2,FORWARD:3,FB_STORY_SHARE:4,IG_STORY_SHARE:5,LIGHTWEIGHT_STATUS:6,LIGHTWEIGHT_STATUS_REACTION:7,FB_FEED_POST:13,HIGHLIGHTS_TAB_POST_REPLY:14,HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:15,SHARED_ALBUM:16,AVATAR_DETAIL:17,NOTE_REPLY_ARMADILLO:18,HIGHLIGHTS_TAB_CARDS_FOR_MOM:19,HIGHLIGHTS_TAB_CARDS_FOR_BIRTHDAY:20,NOTE_MENTION:21,AI_PERSONA_NOTE_REPLY:26,AI_PERSONA_NOTE_REACTION:27,FB_MSGR_NOTE:28});i.default=e}),66);
__d("LSVerifyThreadExistsV2",["LSGetViewerFBID","LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(n){var o;return[t.i64.cast([0,7]),t.i64.cast([0,8]),t.i64.cast([0,13]),t.i64.cast([0,10]),t.i64.cast([0,11]),t.i64.cast([0,16])].some(function(n){return t.i64.eq(e[1],n)})?t.resolve((o=[!1,!1,!1],r[0]=o[0],r[1]=o[1],r[2]=o[2],o)):t.sequence([function(n){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(n,o){var a,i,l,s,u,c,d,m,p=n.done,_=n.value;return p?(a=[!0,!0,!1],r[3]=a[0],r[4]=a[1],r[5]=a[2],a):(o=_.item,r[12]=o.threadName,r[11]=o.authorityLevel,r[10]=o.threadType,o.folderName==="other"?(i=[!0,!1,!1],r[7]=i[0],r[8]=i[1],r[9]=i[2]):(t.i64.eq(r[10],t.i64.cast([0,0]))&&t.i64.eq(r[11],t.i64.cast([0,40]))||[t.i64.cast([0,23]),t.i64.cast([0,21]),t.i64.cast([0,18]),t.i64.cast([0,26]),t.i64.cast([0,27])].some(function(e){return t.i64.eq(r[10],e)})&&t.i64.neq(r[11],t.i64.cast([0,20]))&&((r[12]===""?void 0:r[12])===void 0||t.i64.lt(r[11],t.i64.cast([0,80])))||[t.i64.cast([0,151]),t.i64.cast([0,155]),t.i64.cast([0,153])].some(function(e){return t.i64.eq(r[10],e)})||[t.i64.cast([0,24]),t.i64.cast([0,22]),t.i64.cast([0,19]),t.i64.cast([0,25]),t.i64.cast([0,28])].some(function(e){return t.i64.eq(r[10],e)})||[t.i64.cast([0,150]),t.i64.cast([0,154]),t.i64.cast([0,152])].some(function(n){return t.i64.eq(e[1],n)})&&t.i64.lt(r[11],t.i64.cast([0,80]))||[t.i64.cast([0,150]),t.i64.cast([0,154]),t.i64.cast([0,152])].some(function(n){return t.i64.eq(e[1],n)})&&t.i64.eq(e[6],t.i64.cast([0,205]))&&t.i64.eq(o.syncGroup,void 0)?(l=[!0,!0,!1],r[13]=l[0],r[14]=l[1],r[15]=l[2]):(t.i64.ge(r[11],e[4])||t.i64.eq(r[11],t.i64.cast([0,20]))&&([t.i64.cast([0,2]),t.i64.cast([0,202]),t.i64.cast([0,206])].some(function(n){return t.i64.eq(e[1],n)})||[t.i64.cast([0,23]),t.i64.cast([0,21]),t.i64.cast([0,18]),t.i64.cast([0,26]),t.i64.cast([0,27])].some(function(n){return t.i64.eq(e[1],n)}))?(s=[!1,!1,!1],r[16]=s[0],r[17]=s[1],r[18]=s[2]):(u=[!0,!1,!0],r[16]=u[0],r[17]=u[1],r[18]=u[2]),c=[r[16],r[17],r[18]],r[13]=c[0],r[14]=c[1],r[15]=c[2]),d=[r[13],r[14],r[15]],r[7]=d[0],r[8]=d[1],r[9]=d[2]),m=[r[7],r[8],r[9]],r[3]=m[0],r[4]=m[1],r[5]=m[2])})},function(e){var t;return t=[r[3],r[4],r[5]],r[0]=t[0],r[1]=t[1],r[2]=t[2],t}])},function(o){return r[0]?(r[3]=new t.Map,r[3].set("thread_fbid",e[0]),r[3].set("force_upsert",e[5]),r[3].set("use_open_messenger_transport",!1),r[3].set("sync_group",e[6]),r[3].set("metadata_only",e[7]),r[3].set("preview_only",!1),r[4]=r[3].get("thread_fbid"),r[5]=t.toJSON(r[3]),t.storedProcedure(n("LSIssueNewTask"),t.i64.to_string(r[4]),t.i64.cast([0,209]),r[5],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))):t.resolve()},function(o){return r[1]?t.sequence([function(n){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(n,o){var a=n.done,i=n.value;return a?t.sequence([function(n){return t.filter(t.db.table(7).fetch([[[e[0]]]]),function(n){return t.i64.eq(n.id,e[0])&&t.i64.eq(t.i64.cast([0,1]),t.i64.cast([0,1]))}).next().then(function(e,n){var o=e.done,a=e.value;return o?r[20]=!1:(n=a.item,r[20]=!!t.i64.eq(n.contactTypeExact,t.i64.cast([0,16])))})},function(e){return r[3]=r[20]}]):(o=i.item,r[3]=!!t.i64.eq(o.threadType,t.i64.cast([0,201])))})},function(n){return r[5]=t.i64.cast([0,1083495711]),r[6]=t.i64.cast([0,1024]),r[7]=t.i64.cast([0,0]),r[8]=t.i64.cast([0,0]),r[9]=t.i64.cast([0,134217728]),r[10]=t.i64.cast([0,1083495711]),r[11]=t.i64.cast([0,1024]),r[12]=t.i64.cast([0,0]),r[13]=t.i64.cast([0,134217728]),r[14]=t.i64.cast([0,0]),r[15]=t.i64.cast([0,8650752]),r[16]=t.i64.cast([0,1024]),r[17]=t.i64.cast([0,0]),r[18]=t.i64.cast([0,0]),r[19]=t.i64.cast([0,0]),t.forEach(t.filter(t.db.table(9).fetch([[[e[0]]]]),function(n){return t.i64.eq(n.threadKey,e[0])&&t.i64.lt(n.authorityLevel,e[4])}),function(e){return e.delete()})},function(n){return t.db.table(9).add({threadKey:e[0],mailboxType:t.i64.cast([0,0]),threadType:e[1],syncGroup:e[6],folderName:e[2],lastReadWatermarkTimestampMs:t.i64.cast([0,0]),removeWatermarkTimestampMs:t.i64.cast([-1,4294967295]),ongoingCallState:t.i64.cast([0,0]),parentThreadKey:e[3],authorityLevel:e[4],capabilities:r[3]?r[15]:r[10],capabilities2:r[3]?r[16]:r[11],capabilities3:r[3]?r[17]:r[12],capabilities4:r[3]?r[18]:r[13],capabilities5:r[3]?r[19]:r[14],unsendLimitMs:t.i64.cast([-1,4294967295])})},function(o){return[t.i64.cast([0,1]),t.i64.cast([0,201]),t.i64.cast([0,204])].some(function(n){return t.i64.eq(e[1],n)})?t.sequence([function(n){return t.forEach(t.filter(t.db.table(14).fetch([[[e[0],e[0]]]]),function(n){return t.i64.eq(n.threadKey,e[0])&&t.i64.eq(t.i64.cast([0,0]),t.i64.cast([0,0]))&&t.i64.eq(n.contactId,e[0])&&t.i64.lt(n.authorityLevel,e[4])}),function(e){return e.delete()})},function(n){return t.db.table(14).add({threadKey:e[0],contactId:e[0],readWatermarkTimestampMs:t.i64.cast([0,0]),deliveredWatermarkTimestampMs:t.i64.cast([0,0]),authorityLevel:e[4],isModerator:!1})},function(e){return t.storedProcedure(n("LSGetViewerFBID")).then(function(e){var t;return t=e,r[20]=t[0],t})},function(n){return t.forEach(t.filter(t.db.table(14).fetch([[[e[0],r[20]]]]),function(n){return t.i64.eq(n.threadKey,e[0])&&t.i64.eq(t.i64.cast([0,0]),t.i64.cast([0,0]))&&t.i64.eq(n.contactId,r[20])&&t.i64.lt(n.authorityLevel,e[4])}),function(e){return e.delete()})},function(n){return t.db.table(14).add({threadKey:e[0],contactId:r[20],readWatermarkTimestampMs:t.i64.cast([0,0]),deliveredWatermarkTimestampMs:t.i64.cast([0,0]),authorityLevel:e[4],isModerator:!1})}]):t.resolve()}]):t.resolve()},function(n){return r[2]?t.forEach(t.db.table(9).fetch([[[e[0]]]]),function(t){var n=t.update,r=t.item;return n({authorityLevel:e[4]})}):t.resolve()}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxVerifyThreadExistsV2StoredProcedure",e.__tables__=["threads","contacts","participants"],a.exports=e}),null);
__d("LSVerifyThreadRowExistsV2",["LSVerifyThreadExistsV2"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.i64.eq(e[1],t.i64.cast([0,5]))?r[0]=t.i64.cast([-1,4294967284]):r[0]=t.i64.cast([0,0]),t.storedProcedure(n("LSVerifyThreadExistsV2"),e[0],e[1],"inbox",r[0],e[3],!1,e[2],!1,!1)},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxVerifyThreadRowExistsV2StoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSVerifyThreadRowExistsV2StoredProcedure",["LSSynchronousPromise","LSVerifyThreadRowExistsV2","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSVerifyThreadRowExistsV2"),a.threadKey,a.threadType,a.syncGroup,a.authorityLevel);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("maybeIssueIGDThreadPointQuery",["I64","LSAuthorityLevel","LSFactory","LSIntEnum","LSVerifyThreadRowExistsV2StoredProcedure","asyncToGeneratorRuntime","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=r("requireDeferred")("LSDatabaseSingletonLazyWrapper").__setRef("maybeIssueIGDThreadPointQuery");function c(e){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=yield u.load(),a=yield n();return a.runInTransaction(function(n){return r("LSVerifyThreadRowExistsV2StoredProcedure")(r("LSFactory")(n),{authorityLevel:(e||(e=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC),syncGroup:(s||(s=o("I64"))).of_int32(1),threadKey:s.of_string(t),threadType:s.of_int32(1)})},"readwrite")}),d.apply(this,arguments)}l.default=c}),98);